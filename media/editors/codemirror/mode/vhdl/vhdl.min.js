!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){"use strict";function b(a){for(var b={},c=a.split(","),d=0;d<c.length;++d){var e=c[d].toUpperCase(),f=c[d].charAt(0).toUpperCase()+c[d].slice(1);b[c[d]]=!0,b[e]=!0,b[f]=!0}return b}function c(a){return a.eatWhile(/[\w\$_]/),"meta"}a.defineMode("vhdl",function(a,d){function e(a,b){var c=a.next();if(n[c]){var d=n[c](a,b);if(d!==!1)return d}if('"'==c)return b.tokenize=g(c),b.tokenize(a,b);if("'"==c)return b.tokenize=f(c),b.tokenize(a,b);if(/[\[\]{}\(\),;\:\.]/.test(c))return k=c,null;if(/[\d']/.test(c))return a.eatWhile(/[\w\.']/),"number";if("-"==c&&a.eat("-"))return a.skipToEnd(),"comment";if(r.test(c))return a.eatWhile(r),"operator";a.eatWhile(/[\w\$_]/);var e=a.current();return p.propertyIsEnumerable(e.toLowerCase())?(q.propertyIsEnumerable(e)&&(k="newstatement"),"keyword"):m.propertyIsEnumerable(e)?"atom":"variable"}function f(a){return function(b,c){for(var d,f=!1,g=!1;null!=(d=b.next());){if(d==a&&!f){g=!0;break}f=!f&&"--"==d}return(g||!f&&!o)&&(c.tokenize=e),"string"}}function g(a){return function(b,c){for(var d,f=!1,g=!1;null!=(d=b.next());){if(d==a&&!f){g=!0;break}f=!f&&"--"==d}return(g||!f&&!o)&&(c.tokenize=e),"string-2"}}function h(a,b,c,d,e){this.indented=a,this.column=b,this.type=c,this.align=d,this.prev=e}function i(a,b,c){return a.context=new h(a.indented,b,c,null,a.context)}function j(a){var b=a.context.type;return(")"==b||"]"==b||"}"==b)&&(a.indented=a.context.indented),a.context=a.context.prev}var k,l=a.indentUnit,m=d.atoms||b("null"),n=d.hooks||{"`":c,$:c},o=d.multiLineStrings,p=b("abs,access,after,alias,all,and,architecture,array,assert,attribute,begin,block,body,buffer,bus,case,component,configuration,constant,disconnent,downto,else,elsif,end,end block,end case,end component,end for,end generate,end if,end loop,end process,end record,end units,entity,exit,file,for,function,generate,generic,generic map,group,guarded,if,impure,in,inertial,inout,is,label,library,linkage,literal,loop,map,mod,nand,new,next,nor,null,of,on,open,or,others,out,package,package body,port,port map,postponed,procedure,process,pure,range,record,register,reject,rem,report,return,rol,ror,select,severity,signal,sla,sll,sra,srl,subtype,then,to,transport,type,unaffected,units,until,use,variable,wait,when,while,with,xnor,xor"),q=b("architecture,entity,begin,case,port,else,elsif,end,for,function,if"),r=/[&|~><!\)\(*#%@+\/=?\:;}{,\.\^\-\[\]]/;return{startState:function(a){return{tokenize:null,context:new h((a||0)-l,0,"top",!1),indented:0,startOfLine:!0}},token:function(a,b){var c=b.context;if(a.sol()&&(null==c.align&&(c.align=!1),b.indented=a.indentation(),b.startOfLine=!0),a.eatSpace())return null;k=null;var d=(b.tokenize||e)(a,b);if("comment"==d||"meta"==d)return d;if(null==c.align&&(c.align=!0),";"!=k&&":"!=k||"statement"!=c.type)if("{"==k)i(b,a.column(),"}");else if("["==k)i(b,a.column(),"]");else if("("==k)i(b,a.column(),")");else if("}"==k){for(;"statement"==c.type;)c=j(b);for("}"==c.type&&(c=j(b));"statement"==c.type;)c=j(b)}else k==c.type?j(b):("}"==c.type||"top"==c.type||"statement"==c.type&&"newstatement"==k)&&i(b,a.column(),"statement");else j(b);return b.startOfLine=!1,d},indent:function(a,b){if(a.tokenize!=e&&null!=a.tokenize)return 0;var c=b&&b.charAt(0),d=a.context,f=c==d.type;return"statement"==d.type?d.indented+("{"==c?0:l):d.align?d.column+(f?0:1):d.indented+(f?0:l)},electricChars:"{}"}}),a.defineMIME("text/x-vhdl","vhdl")});