Joomla.overrider={states:{refreshing:!1,refreshed:!1,counter:0,searchstring:"",searchtype:"value"}},Joomla.overrider.refreshCache=function(){this.states.refreshing=!0;var e=this,s=document.getElementById("refresh-status");s.classList.add("show"),Joomla.request({url:"index.php?option=com_languages&task=strings.refresh&format=json",method:"POST",headers:{"Content-Type":"application/json"},onSuccess:function(t){t.error&&t.message&&alert(t.message),t.messages&&Joomla.renderMessages(t.messages),s.classList.remove("show"),e.states.refreshing=!1},onError:function(){alert(Joomla.JText._("COM_LANGUAGES_VIEW_OVERRIDE_REQUEST_ERROR")),s.classList.remove("show")}})},Joomla.overrider.searchStrings=function(e){var s=this,t=document.getElementById("jform_searchstring"),r=document.getElementById("jform_searchtype"),a=document.getElementById("overrider-spinner"),o=document.getElementById("overrider-spinner-btn"),n=document.getElementById("more-results"),i=document.getElementById("results-container");if(!this.states.refreshing){if(!e){this.states.searchstring=t.value,this.states.searchtype=null!==r?r.value:"value";for(var l=document.querySelectorAll(".language-results"),d=0,c=l.length;c>d;d++)l[d].parentNode.removeChild(l[d])}if(!this.states.searchstring)return void t.classList.add("invalid");if(e)o.classList.add("show");else{n.classList.remove("show");for(var m=document.querySelectorAll("#results-container div.language-results"),d=0,c=m.length;c>d;d++)m[d].parentNode.removeChild(m[d]);i.classList.add("show"),a.classList.add("show")}Joomla.request({url:"index.php?option=com_languages&task=strings.search&format=json&searchstring="+s.states.searchstring+"&searchtype="+s.states.searchtype+"&more="+e,method:"POST",headers:{"Content-Type":"application/json"},onSuccess:function(e){var e=JSON.parse(e);e.error&&e.message&&alert(e.message),e.messages&&Joomla.renderMessages(e.messages),e.data&&(e.data.results&&s.insertResults(e.data.results),e.data.more&&(s.states.more=e.data.more,n.classList.add("show"))),o.classList.remove("show"),a.classList.remove("show")},onError:function(){alert(Joomla.JText._("COM_LANGUAGES_VIEW_OVERRIDE_REQUEST_ERROR")),n.classList.remove("show"),i.classList.remove("show")}})}},Joomla.overrider.insertResults=function(e){var s=this;this.states.counter=this.states.counter+1;var t=document.createElement("div");if(t.setAttribute("id","language-results"+s.states.counter),t.classList.add("language-results"),t.classList.add("list-group"),t.classList.add("mb-2"),t.classList.add("show"),e.forEach(function(e,r){var a=document.createElement("a");a.setAttribute("onclick","Joomla.overrider.selectString("+s.states.counter+r+");"),a.setAttribute("href","#"),a.classList.add("list-group-item"),a.classList.add("list-group-item-action"),a.classList.add("flex-column"),a.classList.add("align-items-start");var o=document.createElement("div");o.setAttribute("id","override_key"+s.states.counter+r),o.setAttribute("title",e.file),o.classList.add("result-key"),o.innerHTML=e.constant;var n=document.createElement("div");n.setAttribute("id","override_string"+s.states.counter+r),n.classList.add("result-string"),n.innerHTML=e.string,a.appendChild(o),a.appendChild(n),t.appendChild(a)}),!e.length){var r=document.createElement("div");r.innerHTML=Joomla.JText._("COM_LANGUAGES_VIEW_OVERRIDE_NO_RESULTS"),t.appendChild(r)}var a=document.getElementById("more-results");a&&a.parentNode.insertBefore(t,a)},Joomla.overrider.selectString=function(e){document.getElementById("jform_key").value=document.getElementById("override_key"+e).innerHTML,document.getElementById("jform_override").value=document.getElementById("override_string"+e).innerHTML};