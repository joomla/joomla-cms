Joomla=window.Joomla||{},function(e,t){"use strict";var a=!1;e.sampledataAjax=function(s,r,d){var l=e.getOptions("sample-data"),n=t.createElement("li");n.classList.add("sampledata-steps-"+s+"-"+d);var p=t.createElement("p");p.classList.add("loader-image"),p.classList.add("text-center");var o=t.createElement("img");o.setAttribute("src",l.icon),o.setAttribute("width",30),o.setAttribute("height",30),p.appendChild(o),n.appendChild(p),t.querySelector(".sampledata-progress-"+s+" ul").appendChild(n),e.request({url:"index.php?option=com_ajax&format=json&group=sampledata&type="+s+"&plugin=SampledataApplyStep"+d+"&step="+d,method:"GET",perform:!0,onSuccess:function(l,p){l=JSON.parse(l);var o=n.querySelector(".loader-image");if(o.parentNode.removeChild(o),l.success&&l.data&&l.data.length>0){for(var i,c,m,u=t.querySelector(".sampledata-progress-"+s+" .progress-bar"),g=0,A=l.data.length;g<A;g++)null!==(c=l.data[g])&&(m=(i=c.success)?"bg-success":"bg-danger",i?e.renderMessages({success:[c.message]},".sampledata-steps-"+s+"-"+d):e.renderMessages({error:[c.message]},".sampledata-steps-"+s+"-"+d));u.innerText=d+"/"+r,u.style.width=d/r*100+"%",u.classList.add(m),i&&d<=r&&++d<=r&&e.sampledataAjax(s,r,d)}else e.renderMessages({error:[e.JText._("MOD_SAMPLEDATA_INVALID_RESPONSE")]},".sampledata-steps-"+s+"-"+d),a=!1},onError:function(e){alert("Something went wrong! Please close and reopen the browser and try again!")}})},e.sampledataApply=function(s){var r=s.getAttribute("data-type"),d=s.getAttribute("data-steps");if(!a){if(!s.getAttribute("data-processed")){if(!confirm(e.JText._("MOD_SAMPLEDATA_CONFIRM_START")))return!1;for(var l=t.querySelectorAll(".sampledata-progress-"+r),n=0,p=l.length;n<p;n++)l[n].classList.remove("d-none");return s.getAttribute("data-processed",!0),a=!0,e.sampledataAjax(r,d,1),!1}alert(e.JText._("MOD_SAMPLEDATA_ITEM_ALREADY_PROCESSED"))}},t.addEventListener("DOMContentLoaded",function(){var a=t.getElementById("sample-data-wrapper");if(a)for(var s=a.querySelectorAll(".apply-sample-data"),r=0,d=s.length;r<d;r++)s[r].addEventListener("click",function(t){e.sampledataApply(t.target)})})}(Joomla,document);