Joomla=window.Joomla||{},function(){"use strict";document.addEventListener("DOMContentLoaded",function(){for(var e,t=document.querySelectorAll(".js-finder-search-query"),o=0;o<t.length;o++)Joomla.getOptions("finder-search")&&(t[o].awesomplete=new Awesomplete(t[o]),t[o].addEventListener("keyup",function(o){1<o.target.value.length&&(o.target.awesomplete.list=[],Joomla.request({url:Joomla.getOptions("finder-search").url+"&q="+o.target.value,method:"GET",data:{q:o.target.value},perform:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},onSuccess:function(e,t){console.log(t),e=JSON.parse(e),"[object Array]"===Object.prototype.toString.call(e.suggestions)&&(o.target.awesomplete.list=e.suggestions)},onError:function(e){0<e.status&&Joomla.renderMessages(Joomla.ajaxErrorsMessages(e))}}))}));e=document.querySelectorAll(".js-finder-searchform");for(o=0;o<e.length;o++)e[o].addEventListener("submit",function(e){e.stopPropagation();var t=e.target.querySelector(".js-finder-advanced");if(t.length)for(var o=t.querySelector("select"),r=0;r<o.length;r++)o[r].value||o[r].setAttribute("disabled","disabled")})})}();