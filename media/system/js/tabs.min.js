Object.append(Browser.Features,{localstorage:(function(){return"localStorage"in window&&null!==window.localStorage})()}),(function(t){"use strict";t.JTabs=new Class({Implements:[Options,Events],options:{display:0,useStorage:!0,onActive:function(t,i){i.setStyle("display","block"),t.addClass("open").removeClass("closed")},onBackground:function(t,i){i.setStyle("display","none"),t.addClass("closed").removeClass("open")},titleSelector:"dt",descriptionSelector:"dd"},initialize:function(t,i){this.setOptions(i),this.dlist=document.id(t),this.titles=this.dlist.getChildren(this.options.titleSelector),this.descriptions=this.dlist.getChildren(this.options.descriptionSelector),this.content=new Element("div").inject(this.dlist,"after").addClass("current"),this.storageName="jpanetabs_"+this.dlist.id,this.options.useStorage&&(Browser.Features.localstorage?this.options.display=this.options.display||localStorage[this.storageName]:this.options.display=this.options.display||Cookie.read(this.storageName)),null!==this.options.display&&void 0!==this.options.display||(this.options.display=0),this.options.display=this.options.display.toInt().limit(0,this.titles.length-1);for(var s=0,e=this.titles.length;s<e;s++){var o=this.titles[s],n=this.descriptions[s];o.setStyle("cursor","pointer"),o.addEvent("click",this.display.bind(this,s)),n.inject(this.content)}this.display(this.options.display),this.options.initialize&&this.options.initialize.call(this)},hideAllBut:function(t){for(var i=0,s=this.titles.length;i<s;i++)i!=t&&this.fireEvent("onBackground",[this.titles[i],this.descriptions[i]])},display:function(t){this.hideAllBut(t),this.fireEvent("onActive",[this.titles[t],this.descriptions[t]]),this.options.useStorage&&(Browser.Features.localstorage?localStorage[this.storageName]=t:Cookie.write(this.storageName,t))}})})(window);

