if("undefined"==typeof Joomla)var Joomla={};Joomla.Highlighter=function(a){var b,c,d={autoUnhighlight:!0,caseSensitive:!1,startElement:!1,endElement:!1,elements:[],className:"highlight",onlyWords:!0,tag:"span"},e=function(a){a.constructor===String&&(a=[a]),d.autoUnhighlight&&f(a);var b=d.onlyWords?"\b"+b+"\b":"("+a.join("\\b|\\b")+")",c=new RegExp(b,d.caseSensitive?"":"i");return d.elements.map(function(a){g(a,c,d.className)}),this},f=function(a){a.constructor===String&&(a=[a]);var c,e;return a.map(function(f){f=d.caseSensitive?f:f.toUpperCase(),a[f]&&(c=b(a[f]),c.removeClass(),c.each(function(a,c){e=document.createTextNode(b(c).text()),c.parentNode.replaceChild(e,c)}))}),this},g=function(a,e,f){if(3===a.nodeType){var h,i,j,k,l,m,n=a.nodeValue.match(e);if(n)return h=document.createElement(d.tag),i=b(h),i.addClass(f),j=a.splitText(n.index),j.splitText(n[0].length),k=j.cloneNode(!0),i.append(k),b(j).replaceWith(h),i.attr("rel",i.text()),l=i.text(),d.caseSensitive||(l=i.text().toUpperCase()),c[l]||(c[l]=[]),c[l].push(h),1}else if(1===a.nodeType&&a.childNodes&&!/(script|style|textarea|iframe)/i.test(a.tagName)&&(a.tagName!==d.tag.toUpperCase()||a.className!==f))for(m=0;m<a.childNodes.length;m++)m+=g(a.childNodes[m],e,f);return 0},h=function(a,b){var c=a.next();c.attr("id")!==b.attr("id")&&(d.elements.push(c.get(0)),h(c,b))},i=function(a){b=jQuery.noConflict(),b.extend(d,a),h(b(d.startElement),b(d.endElement)),c=[]};return i(a),{highlight:e,unhighlight:f}};