if(void 0===Joomla)var Joomla={};Joomla.Highlighter=function(e){var t,n,a={autoUnhighlight:!0,caseSensitive:!1,startElement:!1,endElement:!1,elements:[],className:"highlight",onlyWords:!0,tag:"span"},i=function(e){var n,i;return e.constructor===String&&(e=[e]),e.map(function(o){o=a.caseSensitive?o:o.toUpperCase(),e[o]&&((n=t(e[o])).removeClass(),n.each(function(e,n){i=document.createTextNode(t(n).text()),n.parentNode.replaceChild(i,n)}))}),this},o=function(e,i,r){if(3===e.nodeType){var s,l,c,h,d,u,g=e.nodeValue.match(i);if(g)return s=document.createElement(a.tag),(l=t(s)).addClass(r),(c=e.splitText(g.index)).splitText(g[0].length),h=c.cloneNode(!0),l.append(h),t(c).replaceWith(s),l.attr("rel",l.text()),d=l.text(),a.caseSensitive||(d=l.text().toUpperCase()),n[d]||(n[d]=[]),n[d].push(s),1}else if(1===e.nodeType&&e.childNodes&&!/(script|style|textarea|iframe)/i.test(e.tagName)&&(e.tagName!==a.tag.toUpperCase()||e.className!==r))for(u=0;u<e.childNodes.length;u++)u+=o(e.childNodes[u],i,r);return 0},r=function(e,t){var n=e.next();n.attr("id")!==t.attr("id")&&(a.elements.push(n.get(0)),r(n,t))};return function(e){(t=jQuery.noConflict()).extend(a,e),r(t(a.startElement),t(a.endElement)),n=[]}(e),{highlight:function(e){e.constructor===String&&(e=[e]),a.autoUnhighlight&&i(e);var t=a.onlyWords?"\b"+t+"\b":"("+e.join("\\b|\\b")+")",n=new RegExp(t,a.caseSensitive?"":"i");return a.elements.map(function(e){o(e,n,a.className)}),this},unhighlight:i}};