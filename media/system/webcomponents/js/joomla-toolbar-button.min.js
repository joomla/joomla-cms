(t=>{"use strict";t.define("joomla-toolbar-button",class extends HTMLElement{get task(){return this.getAttribute("task")}get execute(){return this.getAttribute("execute")}get listSelection(){return this.hasAttribute("list-selection")}get form(){return this.getAttribute("form")}get formValidation(){return this.hasAttribute("form-validation")}get confirmMessage(){return this.getAttribute("confirm-message")}constructor(){super(),this.buttonElement=this.querySelector("button"),this.disabled=!1,this.listSelection&&this.setDisabled(!0),this.addEventListener("click",t=>this.executeTask())}connectedCallback(){const t=this.form||"#adminForm";if(this.formElement=document.querySelector(t),this.listSelection){if(!this.formElement)throw new Error(`The form "${t}" is required to perform the task, but the form not found on the page.`);this.formElement.boxchecked.addEventListener("change",t=>{this.setDisabled(0==t.target.value)})}}setDisabled(t){this.disabled=!!t,this.buttonElement&&(this.disabled?this.buttonElement.setAttribute("disabled",!0):this.buttonElement.removeAttribute("disabled"))}executeTask(){if(this.disabled)return!1;if(this.confirmMessage&&!confirm(this.confirmMessage))return!1;if(this.task)Joomla.submitbutton(this.task,this.form,this.formValidation);else{if(!this.execute)throw new Error('Either "task" or "execute" attribute must be preset to perform an action.');new Function(this.execute).call(this)}}})})(customElements);