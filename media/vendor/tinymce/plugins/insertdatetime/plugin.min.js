!function(){var e={},t=function(t){for(var n=e[t],r=n.deps,a=n.defn,u=r.length,o=new Array(u),l=0;l<u;++l)o[l]=i(r[l]);var c=a.apply(null,o);if(void 0===c)throw"module ["+t+"] returned undefined";n.instance=c},n=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},r=function(e,t){for(var n=e.length,r=new Array(n),a=0;a<n;++a)r[a]=i(e[a]);t.apply(null,r)};({}).bolt={module:{api:{define:n,require:r,demand:i}}};var a=n;a("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,i=function(){return n};return{get:i,set:function(e){n=e},clone:function(){return e(i())}}};return e}),function(e,t){a(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),a("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),a("tinymce.plugins.fullpage.api.Settings",[],function(){return{shouldHideInSourceView:function(e){return e.getParam("fullpage_hide_in_source_view")},getDefaultXmlPi:function(e){return e.getParam("fullpage_default_xml_pi")},getDefaultEncoding:function(e){return e.getParam("fullpage_default_encoding")},getDefaultFontFamily:function(e){return e.getParam("fullpage_default_font_family")},getDefaultFontSize:function(e){return e.getParam("fullpage_default_font_size")},getDefaultTextColor:function(e){return e.getParam("fullpage_default_text_color")},getDefaultTitle:function(e){return e.getParam("fullpage_default_title")},getDefaultDocType:function(e){return e.getParam("fullpage_default_doctype","<!DOCTYPE html>")}}}),a("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),a("tinymce.plugins.insertdatetime.api.Settings",[],function(){var e=function(e){return e.getParam("insertdatetime_timeformat",e.translate("%H:%M:%S"))},t=function(e){return e.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])};return{getDateFormat:function(e){return e.getParam("insertdatetime_dateformat",e.translate("%Y-%m-%d"))},getTimeFormat:e,getFormats:t,getDefaultDateTime:function(n){var i=t(n);return i.length>0?i[0]:e(n)},shouldInsertTimeElement:function(e){return e.getParam("insertdatetime_element",!1)}}}),a("tinymce.plugins.insertdatetime.core.Actions",["tinymce.core.util.Tools","tinymce.plugins.insertdatetime.api.Settings"],function(e,t){var n="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),i="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),r="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="January February March April May June July August September October November December".split(" "),u=function(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e},o=function(e,t,o){return o=o||new Date,t=t.replace("%D","%m/%d/%Y"),t=t.replace("%r","%I:%M:%S %p"),t=t.replace("%Y",""+o.getFullYear()),t=t.replace("%y",""+o.getYear()),t=t.replace("%m",u(o.getMonth()+1,2)),t=t.replace("%d",u(o.getDate(),2)),t=t.replace("%H",""+u(o.getHours(),2)),t=t.replace("%M",""+u(o.getMinutes(),2)),t=t.replace("%S",""+u(o.getSeconds(),2)),t=t.replace("%I",""+((o.getHours()+11)%12+1)),t=t.replace("%p",o.getHours()<12?"AM":"PM"),t=t.replace("%B",""+e.translate(a[o.getMonth()])),t=t.replace("%b",""+e.translate(r[o.getMonth()])),t=t.replace("%A",""+e.translate(i[o.getDay()])),t=t.replace("%a",""+e.translate(n[o.getDay()])),t=t.replace("%%","%")},l=function(e,t,n,i){var r=e.dom.create("time",{datetime:n},i);t.parentNode.insertBefore(r,t),e.dom.remove(t),e.selection.select(r,!0),e.selection.collapse(!1)};return{insertDateTime:function(e,n){if(t.shouldInsertTimeElement(e)){var i,r=o(e,n);i=/%[HMSIp]/.test(n)?o(e,"%Y-%m-%dT%H:%M"):o(e,"%Y-%m-%d");var a=e.dom.getParent(e.selection.getStart(),"time");a?l(e,a,i,r):e.insertContent('<time datetime="'+i+'">'+r+"</time>")}else e.insertContent(o(e,n))},getDateTime:o}}),a("tinymce.plugins.insertdatetime.api.Commands",["tinymce.plugins.fullpage.api.Settings","tinymce.plugins.insertdatetime.core.Actions"],function(e,t){return{register:function(n){n.addCommand("mceInsertDate",function(){t.insertDateTime(n,e.getDateFormat())}),n.addCommand("mceInsertTime",function(){t.insertDateTime(n,e.getTimeFormat())})}}}),a("tinymce.plugins.insertdatetime.ui.Buttons",["tinymce.core.util.Tools","tinymce.plugins.insertdatetime.api.Settings","tinymce.plugins.insertdatetime.core.Actions"],function(e,t,n){var i=function(i,r){var a=t.getFormats(i);return e.map(a,function(e){return{text:n.getDateTime(i,e),onclick:function(){r.set(e),n.insertDateTime(i,e)}}})};return{register:function(e,r){var a=i(e,r);e.addButton("insertdatetime",{type:"splitbutton",title:"Insert date/time",menu:a,onclick:function(){var i=r.get();n.insertDateTime(e,i||t.getDefaultDateTime(e))}}),e.addMenuItem("insertdatetime",{icon:"date",text:"Date/time",menu:a,context:"insert"})}}}),a("tinymce.plugins.insertdatetime.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.insertdatetime.api.Commands","tinymce.plugins.insertdatetime.ui.Buttons"],function(e,t,n,i){return t.add("insertdatetime",function(t){var r=e(null);n.register(t),i.register(t,r)}),function(){}}),i("tinymce.plugins.insertdatetime.Plugin")()}();