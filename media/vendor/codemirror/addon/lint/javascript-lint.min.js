!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function r(e){return n(e,o,"warning",!0),n(e,t,"error"),function(e){for(var r=e.description,n=0;n<i.length;n++)if(-1!==r.indexOf(i[n]))return!0;return!1}(e)?null:e}function n(e,r,n,i){var o,t,a,c,s;o=e.description;for(var d=0;d<r.length;d++)a="string"==typeof(t=r[d])?t:t[0],c="string"==typeof t?null:t[1],s=-1!==o.indexOf(a),(i||s)&&(e.severity=n),s&&c&&(e.description=c)}var i=["Dangerous comment"],o=[["Expected '{'","Statement body should be inside '{ }' braces."]],t=["Missing semicolon","Extra comma","Missing property name","Unmatched "," and instead saw"," is not defined","Unclosed string","Stopping, unable to continue"];e.registerHelper("lint","javascript",function(n,i){if(!window.JSHINT)return window.console&&window.console.error("Error: window.JSHINT not defined, CodeMirror JavaScript linting cannot run."),[];JSHINT(n,i,i.globals);var o=JSHINT.data().errors,t=[];return o&&function(n,i){for(var o=0;o<n.length;o++){var t=n[o];if(t){var a,c;if(a=[],t.evidence){var s=a[t.line];if(!s){var d=t.evidence;s=[],Array.prototype.forEach.call(d,function(e,r){"\t"===e&&s.push(r+1)}),a[t.line]=s}if(s.length>0){var f=t.character;s.forEach(function(e){f>e&&(f-=1)}),t.character=f}}var l=t.character-1,u=l+1;t.evidence&&(c=t.evidence.substring(l).search(/.\b/))>-1&&(u+=c),t.description=t.reason,t.start=t.character,t.end=u,(t=r(t))&&i.push({message:t.description,severity:t.severity,from:e.Pos(t.line-1,l),to:e.Pos(t.line-1,u)})}}}(o,t),t})});