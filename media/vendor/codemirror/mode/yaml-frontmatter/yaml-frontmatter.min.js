!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("../yaml/yaml")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../yaml/yaml"],a):a(CodeMirror)}(function(a){var b=0,c=1,d=2;a.defineMode("yaml-frontmatter",function(e,f){function g(a){return a.state==d?i:h}var h=a.getMode(e,"yaml"),i=a.getMode(e,f&&f.base||"gfm");return{startState:function(){return{state:b,inner:a.startState(h)}},copyState:function(b){return{state:b.state,inner:a.copyState(g(b),b.inner)}},token:function(e,f){if(f.state==b)return e.match(/---/,!1)?(f.state=c,h.token(e,f.inner)):(f.state=d,f.inner=a.startState(i),i.token(e,f.inner));if(f.state==c){var g=e.sol()&&e.match(/---/,!1),j=h.token(e,f.inner);return g&&(f.state=d,f.inner=a.startState(i)),j}return i.token(e,f.inner)},innerMode:function(a){return{mode:g(a),state:a.inner}},blankLine:function(a){var b=g(a);if(b.blankLine)return b.blankLine(a.inner)}}})});