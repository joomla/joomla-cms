/*
 @package   akeebabackup
 @copyright Copyright (c)2006-2021 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license   GNU General Public License version 3, or later
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var d=$jscomp.propertyToPolyfillSymbol[b];if(null==d)return a[b];d=a[d];return void 0!==d?d:a[b]};
$jscomp.polyfill=function(a,b,d,f){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,d,f):$jscomp.polyfillUnisolated(a,b,d,f))};$jscomp.polyfillUnisolated=function(a,b,d,f){d=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var e=a[f];if(!(e in d))return;d=d[e]}a=a[a.length-1];f=d[a];b=b(f);b!=f&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,d,f){var e=a.split(".");a=1===e.length;f=e[0];f=!a&&f in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var g=0;g<e.length-1;g++){var c=e[g];if(!(c in f))return;f=f[c]}e=e[e.length-1];d=$jscomp.IS_SYMBOL_NATIVE&&"es6"===d?f[e]:null;b=b(d);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==d&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(f,e,{configurable:!0,writable:!0,value:b})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(e,g){this.$jscomp$symbol$id_=e;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var d=0,f=function(e){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return new b("jscomp_symbol_"+(e||"")+"_"+d++,e)};return f},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),d=0;d<b.length;d++){var f=$jscomp.global[b[d]];"function"===typeof f&&"function"!=typeof f.prototype[a]&&$jscomp.defineProperty(f.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){a instanceof String&&(a+="");var d=0,f=!1,e={next:function(){if(!f&&d<a.length){var g=d++;return{value:b(g,a[g]),done:!1}}f=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
if("undefined"==typeof akeeba)var akeeba={};"undefined"==typeof akeeba.Fsfilters&&(akeeba.Fsfilters={currentRoot:null});akeeba.Fsfilters.activeRootChanged=function(){var a=document.getElementById("active_root"),b={};b.root=a.options[a.selectedIndex].value;b.crumbs=[];b.node="";akeeba.Fsfilters.load(b)};akeeba.Fsfilters.activeTabRootChanged=function(){var a=document.getElementById("active_root");akeeba.Fsfilters.loadTab(a.options[a.selectedIndex].value)};
akeeba.Fsfilters.load=function(a){a.verb="list";a=JSON.stringify(a);var b={};b.action=a;akeeba.System.doAjax(b,function(d){akeeba.Fsfilters.render(d)},null,!1,15E3)};
akeeba.Fsfilters.toggle=function(a,b,d,f){null==f&&(f=!0);if(null!=b){if(1==akeeba.System.data.get(b,"loading",!1))return;akeeba.System.data.set(b,"loading",!0);var e=b;f&&(e=b.querySelector("span"));akeeba.System.data.get(b,"iconClass","")||akeeba.System.data.set(b,"iconClass",e.className);e.className="ak-toggle-button ak-toggle-button-spinning akion-android-star-outline";var g=setInterval(function(){"undefined"===typeof e.className?clearInterval(g):-1!=e.className.indexOf("akion-android-star-outline")?
(akeeba.System.removeClass(e,"akion-android-star-outline"),akeeba.System.addClass(e,"akion-android-star")):-1!=e.className.indexOf("akion-android-star")&&(akeeba.System.addClass(e,"akion-android-star-outline"),akeeba.System.removeClass(e,"akion-android-star"))},250);akeeba.System.data.set(b,"akeebatimer",g)}var c={action:JSON.stringify(a)};akeeba.System.doAjax(c,function(k){if(null!=b){var h=akeeba.System.data.get(b,"akeebatimer");clearInterval(h);if(h=akeeba.System.data.get(b,"iconClass"))e.className=
h;akeeba.System.data.set(b,"iconClass",null);akeeba.System.data.set(b,"loading",null)}1==k.success?(null!=b&&f&&(1==k.newstate?(akeeba.System.removeClass(b,"akeeba-btn--grey"),akeeba.System.addClass(b,"akeeba-btn--orange")):(akeeba.System.removeClass(b,"akeeba-btn--orange"),akeeba.System.addClass(b,"akeeba-btn--grey"))),null!=d&&d(k,b)):(null!=d&&d(k,b),akeeba.System.modalErrorHandler(akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_LABEL_UIERRORFILTER").replace("%s",a.node)))},function(k){if(null!=b){var h=
akeeba.System.data.get(b,"akeebatimer");clearInterval(h);e.className=akeeba.System.data.get(b,"iconClass");akeeba.System.data.set(b,"iconClass");akeeba.System.data.set(b,"loading")}akeeba.System.params.errorCallback(k)},!0,15E3)};
akeeba.Fsfilters.render=function(a){akeeba.Fsfilters.currentRoot=a.root;crumbs=akeeba.Fsfilters.renderCrumbs(a);var b=document.getElementById("folders");b.innerHTML="";0<a.crumbs.length&&akeeba.Fsfilters.renderParentFolderElement();if(0<Object.keys(a.folders).length){var d=["directories_all","skipdirs_all","skipfiles_all"],f=document.createElement("div");f.className="folder-header folder-container";for(var e=0;e<d.length;e++){var g=d[e],c=document.createElement("span");c.className="folder-icon-container akeeba-btn--mini akeeba-btn--grey";
c.setAttribute("title",akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_TYPE_"+g.toUpperCase()));var k="";switch(g){case "directories_all":k="akion-close-circled";c.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-close-circled"></span>');break;case "skipdirs_all":k="akion-folder";c.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-folder"></span>');break;case "skipfiles_all":k="akion-document",c.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-document"></span>')}akeeba.System.addEventListener(c,
"click",function(m,l){return function(){if(-1!=m.className.indexOf("akeeba-btn--orange")){akeeba.System.removeClass(m,"akeeba-btn--orange");akeeba.System.addClass(m,"akeeba-btn--grey");var n=!1}else akeeba.System.removeClass(m,"akeeba-btn--grey"),akeeba.System.addClass(m,"akeeba-btn--orange"),n=!0;for(var p=1;p<b.children.length;p++){var q=b.children[p].querySelector("span."+l),r=-1!=q.parentNode.className.indexOf("akeeba-btn--orange");!n&&!r||n&&r||akeeba.System.triggerEvent(q,"click")}}}(c,k));
f.appendChild(c)}c=document.createElement("span");c.className="folder-name";c.innerHTML='<span class="pull-left akion-arrow-down-a"></span>'+akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_TYPE_APPLYTOALLDIRS");f.appendChild(c);b.appendChild(f)}for(var h in a.folders){if(!a.folders.hasOwnProperty(h))return;f=a.folders[h];uielement=document.createElement("div");uielement.className="folder-container";d=["directories","skipdirs","skipfiles"];for(e=0;e<d.length;e++){g=d[e];c=document.createElement("span");
c.className="akeeba-btn--mini akeeba-btn--grey folder-icon-container";c.setAttribute("title",akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_TYPE_"+g.toUpperCase()));switch(g){case "directories":c.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-close-circled"></span>');break;case "skipdirs":c.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-folder"></span>');break;case "skipfiles":c.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-document"></span>')}c.setAttribute("data-akeeba-tooltip-position",
"right");switch(f[g]){case 2:akeeba.System.removeClass(c,"akeeba-btn--grey");akeeba.System.addClass(c,"akeeba-btn--red");break;case 1:akeeba.System.removeClass(c,"akeeba-btn--grey"),akeeba.System.addClass(c,"akeeba-btn--orange");case 0:akeeba.System.addEventListener(c,"click",function(m,l,n){return function(){akeeba.Fsfilters.toggle({root:a.root,crumbs:crumbs,node:m,filter:l,verb:"toggle"},n)}}(h,g,c))}uielement.appendChild(c)}c=document.createElement("span");c.textContent=h;f.link&&(c.innerHTML=
'<span class="akion-link" aria-hidden="true"></span> '+c.innerHTML);c.className="folder-name";akeeba.System.addEventListener(c,"click",function(m){return function(){var l=document.createElement("img");l.setAttribute("src",akeeba.System.getOptions("akeeba.Fsfilters.loadingGif",""));l.setAttribute("width",16);l.setAttribute("height",11);l.setAttribute("border",0);l.setAttribute("alt","Loading...");l.style.marginTop="3px";l.style.marginLeft="5px";this.appendChild(l);akeeba.Fsfilters.load({root:a.root,
crumbs:crumbs,node:m})}}(h));uielement.appendChild(c);b.appendChild(uielement)}h=document.getElementById("files");h.innerHTML="";0<Object.keys(a.files).length&&(g=document.createElement("div"),g.className="file-header file-container",c=document.createElement("span"),c.className="file-icon-container akeeba-btn--mini akeeba-btn--grey",c.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-close-circled"></span>'),c.setAttribute("title",akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_TYPE_FILES_ALL")),
akeeba.System.addEventListener(c,"click",function(m){return function(){if(-1!=this.className.indexOf("akeeba-btn--orange")){akeeba.System.removeClass(this,"akeeba-btn--orange");akeeba.System.addClass(this,"akeeba-btn--grey");var l=!1}else akeeba.System.removeClass(this,"akeeba-btn--grey"),akeeba.System.addClass(this,"akeeba-btn--orange"),l=!0;for(var n=document.getElementById("files"),p=1;p<n.children.length;p++){var q=n.children[p].querySelector("span.akion-close-circled"),r=-1!=q.parentNode.className.indexOf("akeeba-btn--orange");
!l&&!r||l&&r||akeeba.System.triggerEvent(q,"click")}}}(c)),g.appendChild(c),c=document.createElement("span"),c.className="file-name",c.innerHTML='<span class="pull-left akion-arrow-down-a"></span>'+akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_TYPE_APPLYTOALLFILES"),g.appendChild(c),h.appendChild(g));for(fileName in a.files)if(a.files.hasOwnProperty(fileName)){f=a.files[fileName];uielement=document.createElement("div");uielement.className="file-container";d=["files"];for(e=0;e<d.length;e++){g=d[e];
c=document.createElement("span");c.className="file-icon-container akeeba-btn--mini akeeba-btn--grey";switch(g){case "files":c.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-close-circled"></span>')}c.setAttribute("title",akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_TYPE_"+g.toUpperCase()));switch(f[g]){case 2:akeeba.System.removeClass(c,"akeeba-btn--grey");akeeba.System.addClass(c,"akeeba-btn--red");break;case 1:akeeba.System.removeClass(c,"akeeba-btn--grey"),akeeba.System.addClass(c,
"akeeba-btn--orange");case 0:akeeba.System.addEventListener(c,"click",function(m,l,n){return function(){akeeba.Fsfilters.toggle({root:a.root,crumbs:crumbs,node:m,filter:l,verb:"toggle"},n)}}(fileName,g,c))}uielement.appendChild(c)}c=document.createElement("span");c.className="file-name";c.textContent=fileName;f.link&&(c.innerHTML='<span class="akion-link" aria-hidden="true"></span> '+c.innerHTML);uielement.appendChild(c);c=document.createElement("span");c.className="file-size";c.textContent=f.size;
uielement.appendChild(c);h.appendChild(uielement)}};akeeba.Fsfilters.nuke=function(){var a={action:JSON.stringify({root:akeeba.Fsfilters.currentRoot,verb:"reset"})};akeeba.System.doAjax(a,function(b){akeeba.Fsfilters.render(b)},null,!1,15E3)};akeeba.Fsfilters.loadTab=function(a){a={action:JSON.stringify({verb:"tab",root:a})};akeeba.System.doAjax(a,function(b){akeeba.Fsfilters.renderTab(b)},null,!1,15E3)};
akeeba.Fsfilters.addRow=function(a,b){var d=akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_TYPE_"+a.type.toUpperCase());null==d&&(d=a.type);var f=document.createElement("tr");f.className="ak_filter_row";var e=document.createElement("td");f.appendChild(e);e.className="ak_filter_type";e.insertAdjacentHTML("beforeend",d);d=document.createElement("td");f.appendChild(d);d.className="ak_filter_item";e=document.createElement("span");d.appendChild(e);e.className="ak_filter_tab_icon_container akeeba-btn--mini akeeba-btn--red deletecontainer";
akeeba.System.addEventListener(e,"click",function(){if(""==a.node){var g=this.parentNode.parentNode;g.parentNode.removeChild(g)}else g=document.getElementById("active_root"),akeeba.Fsfilters.toggle({root:g.options[g.selectedIndex].value,crumbs:[],node:a.node,filter:a.type,verb:"toggle"},this,function(c,k){c.success&&(c=k.parentNode.parentNode,c.parentNode.removeChild(c))})});e.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-trash-a deletebutton"></span>');e=document.createElement("span");
d.appendChild(e);e.className="ak_filter_tab_icon_container akeeba-btn--mini akeeba-btn--teal editcontainer";akeeba.System.addEventListener(e,"click",function(){if(null==this.parentNode.querySelector("input")){this.parentNode.querySelector("span.ak_filter_name").style.display="none";var g=document.createElement("input");g.setAttribute("type","text");g.setAttribute("size",60);g.value=this.parentNode.querySelector("span.ak_filter_name").textContent;this.parentNode.appendChild(g);akeeba.System.addEventListener(g,
"blur",function(){var c=this.value,k=this;if(""==c)akeeba.System.triggerEvent(k.parentNode.querySelector("span.deletebutton"),"click");else{var h=document.getElementById("active_root");h={root:h.options[h.selectedIndex].value,crumbs:[],old_node:a.node,new_node:c,filter:a.type,verb:"swap"};var m=k.parentNode.querySelector("span.editcontainer");akeeba.Fsfilters.toggle(h,m,function(l,n){l=k.parentNode.querySelector("span.ak_filter_name");l.style.display="inline-block";l.textContent=c;k.parentNode.removeChild(k);
a.node=c})}});g.focus()}});e.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-edit editbutton"></span>');e=document.createElement("span");e.className="ak_filter_name";e.textContent=a.node;d.appendChild(e);b.appendChild(f)};
akeeba.Fsfilters.addNew=function(a){akeeba.Fsfilters.addRow({type:a,node:""},document.getElementById("ak_list_table").children[1]);a=document.getElementById("ak_list_table").children[1].children;akeeba.System.triggerEvent(a[a.length-1].querySelector("span.editcontainer"),"click")};akeeba.Fsfilters.renderTab=function(a){var b=document.getElementById("ak_list_contents");b.innerHTML="";for(var d=0;d<a.length;d++)akeeba.Fsfilters.addRow(a[d],b)};
akeeba.Fsfilters.renderCrumbs=function(a){var b=[],d=[akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_LABEL_UIROOT"),a.root,[],""];b.push(d);var f=0;if(0<a.crumbs.length){var e=[];for(f=0;f<a.crumbs.length;f++){var g=a.crumbs[f];d=[g,a.root,e.slice(0),g];b.push(d);e.push(g)}}a=document.getElementById("ak_crumbs");a.innerHTML="";g=null;for(f=0;f<b.length;f++){g=b[f];d=document.createElement("li");var c=document.createElement("a");c.setAttribute("href","javascript:");g[0]=g[0].replace("&lt;","<").replace("&gt;",
">");c.textContent=g[0];akeeba.System.addEventListener(c,"click",function(k){return function(){var h=document.createElement("img");h.setAttribute("src",akeeba.System.getOptions("akeeba.Fsfilters.loadingGif",""));h.setAttribute("width",16);h.setAttribute("height",11);h.setAttribute("border",0);h.setAttribute("alt","Loading...");h.style.marginTop="5px";h.style.marginLeft="5px";this.appendChild(h);akeeba.Fsfilters.load({root:k[1],crumbs:k[2],node:k[3]})}}(g));d.appendChild(c);g=document.createElement("span");
g.textContent="/";d.appendChild(g);a.appendChild(d)}return e};
akeeba.Fsfilters.renderParentFolderElement=function(){var a=document.getElementById("folders"),b=document.createElement("div");b.className="folder-container folder-header";b.insertAdjacentHTML("beforeend",'<span class="folder-padding"></span>');b.insertAdjacentHTML("beforeend",'<span class="folder-padding"></span>');b.insertAdjacentHTML("beforeend",'<span class="folder-padding"></span>');b.insertAdjacentHTML("beforeend",'<span class="akion-arrow-up-a"></span>');var d=document.createElement("span");
d.className="folder-name folder-up";var f=document.getElementById("ak_crumbs").children;f=f[f.length-2].querySelector("a");d.textContent=" ("+f.textContent+")";akeeba.System.addEventListener(d,"click",function(e){return function(){akeeba.System.triggerEvent(e,"click")}}(f));b.appendChild(d);a.appendChild(b)};
akeeba.Loader.add(["akeeba.System","akeeba.Ajax"],function(){var a=akeeba.System.getOptions("akeeba.FileFilters.guiData",null);null!==a&&("list"===akeeba.System.getOptions("akeeba.FileFilters.viewType")?(akeeba.Fsfilters.render(a),akeeba.System.addEventListener("active_root","change",akeeba.Fsfilters.activeRootChanged)):(akeeba.Fsfilters.renderTab(a),akeeba.System.addEventListener("active_root","change",akeeba.Fsfilters.activeTabRootChanged)),akeeba.System.addEventListener("comAkeebaFileFiltersNuke",
"click",function(){akeeba.Fsfilters.nuke();return!1}),akeeba.System.addEventListener("comAkeebaFileFiltersAddDirectories","click",function(){akeeba.Fsfilters.addNew("directories");return!1}),akeeba.System.addEventListener("comAkeebaFileFiltersAddSkipfiles","click",function(){akeeba.Fsfilters.addNew("skipfiles");return!1}),akeeba.System.addEventListener("comAkeebaFileFiltersAddSkipdirs","click",function(){akeeba.Fsfilters.addNew("skipdirs");return!1}),akeeba.System.addEventListener("comAkeebaFileFiltersAddFiles",
"click",function(){akeeba.Fsfilters.addNew("files");return!1}))}); //# sourceMappingURL=FileFilters.min.map
